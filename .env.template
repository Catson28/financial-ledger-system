# Ledger / Accounting Engine - Environment Configuration
# ========================================================
# Copy this file to .env and configure with your values

# Database Configuration
# ----------------------
# Main Ledger Database (MySQL/MariaDB recommended for financial systems)
LEDGER_DB_URI=mysql+pymysql://user:password@localhost:3306/ledger_db?charset=utf8mb4

# Optional: PostgreSQL alternative
# LEDGER_DB_URI=postgresql+psycopg2://user:password@localhost:5432/ledger_db

# System Configuration
# --------------------
# Default currency (ISO 4217 code)
DEFAULT_CURRENCY=AOA

# Timezone for transactions
LEDGER_TIMEZONE=Africa/Luanda

# Application Settings
# --------------------
# System name for audit logs
SYSTEM_NAME=LEDGER_SYSTEM

# Enable debug mode (DO NOT use in production)
DEBUG_MODE=False

# Performance Settings
# --------------------
# Database connection pool size
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Query timeout (seconds)
DB_QUERY_TIMEOUT=30

# Security Settings
# -----------------
# Require approval for corrections above this amount
CORRECTION_APPROVAL_THRESHOLD=10000.00

# Maximum transaction age for corrections (days)
MAX_CORRECTION_AGE_DAYS=90

# Reporting Settings
# ------------------
# Default report format
DEFAULT_REPORT_FORMAT=JSON

# Reports output directory
REPORTS_OUTPUT_DIR=./reports

# Retention period for reports (days)
REPORT_RETENTION_DAYS=2555  # 7 years

# Audit Settings
# --------------
# Audit log retention (days) - must comply with regulations
AUDIT_RETENTION_DAYS=2555  # 7 years minimum for financial records

# Enable detailed audit logging
ENABLE_DETAILED_AUDIT=True

# Log all read operations (can generate large volumes)
LOG_READ_OPERATIONS=False

# Integration Settings
# --------------------
# API keys for external systems (if applicable)
# EXTERNAL_ERP_API_KEY=your_api_key_here
# EXTERNAL_BI_API_KEY=your_api_key_here

# Webhook URL for notifications
# NOTIFICATION_WEBHOOK_URL=https://your-webhook-url.com

# Notification Settings
# ---------------------
# Enable email notifications for critical events
ENABLE_EMAIL_NOTIFICATIONS=False

# Email configuration (if enabled)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@example.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=ledger-system@yourcompany.com
# SMTP_TO=admin@yourcompany.com

# Compliance Settings
# -------------------
# Regulatory framework (IFRS, GAAP, etc.)
ACCOUNTING_STANDARD=IFRS

# Country/jurisdiction
JURISDICTION=AO

# Fiscal year start month (1-12)
FISCAL_YEAR_START_MONTH=1

# Backup and DR Settings
# ----------------------
# Enable automated backups
ENABLE_AUTO_BACKUP=True

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# Backup retention (days)
BACKUP_RETENTION_DAYS=90

# DR site database URI (for replication)
# DR_DB_URI=mysql+pymysql://user:password@dr-host:3306/ledger_db

# Feature Flags
# -------------
# Enable double-entry validation (NEVER disable in production)
ENFORCE_DOUBLE_ENTRY=True

# Enable transaction reversals
ALLOW_REVERSALS=True

# Enable manual journal entries
ALLOW_MANUAL_ENTRIES=True

# Require business key for all transactions
REQUIRE_BUSINESS_KEY=True

# Performance Monitoring
# ----------------------
# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=False

# Metrics export endpoint (Prometheus compatible)
# METRICS_ENDPOINT=http://localhost:9090

# Testing Settings
# ----------------
# Test database (use separate database for testing)
TEST_DB_URI=mysql+pymysql://test_user:test_password@localhost:3306/ledger_test_db

# Enable test mode
TEST_MODE=False
